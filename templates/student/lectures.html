{% extends 'studentbase.html' %}
{% load static %}

{% block content %}
{% if not request.session.email %}
<script>
    alert("You Have To Login First");location.href="/login/"
</script>
{% endif %}

<style>
  .heading {
    
    color: black;
    border-radius: 10px;
    padding: 15px;
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
  }

  .card-custom {
    transition: transform 0.3s, box-shadow 0.3s;
    border-radius: 15px;
    background: #f5f5f5;
  }

  .card-custom:hover {
    transform: scale(1.02);
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
  }

  .video-icon {
    font-size: 28px;
    color: #4A148C;
    margin-right: 10px;
    animation: bounce 2s infinite;
  }

  @keyframes bounce {
    0%, 100% { transform: translateY(0);}
    50% { transform: translateY(-5px);}
  }

  .category-badge {
    background: linear-gradient(to right, #4A148C, #880E4F);
    font-weight: bold;
    padding: 6px 12px;
    border-radius: 20px;
  }
</style>


  <div class="fs-3 text-center">
    <i class="fa-solid fa-video video-icon"></i> Video <b>Lecture</b>
    <hr class="w-25 mx-auto">
    <p> Watch your related videos</p>
  </div>


<div class="row">
  <div class="col-sm-10 mx-auto shadow-lg my-3">
          {% for r in vdo %}
   <div class="row">

      <div class="col-md-12 my-3">
        <!-- Start lecture card -->
        <div class="card card-custom border-0 shadow">
          <div class="row ">
            <div class="col-md-4">
             <iframe class="img-thumbnail" 
    src="https://www.youtube.com/embed/{% if 'v=' in r.vlink %}{{ r.vlink|cut:'https://www.youtube.com/watch?v=' }}{% elif 'youtu.be/' in r.vlink %}{{ r.vlink|cut:'https://youtu.be/' }}{% else %}{{ r.vlink }}{% endif %}" 
    title="{{ r.title }}" 
    frameborder="0" 
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
    referrerpolicy="strict-origin-when-cross-origin" 
    allowfullscreen>
</iframe>
              </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="card-title text-primary"><i class="fa-solid fa-circle-play"></i> {{r.title}}</h5>
                <p class="card-text text-muted">{{r.video_info}}</p>
                <p class="card-text d-flex justify-content-between align-items-center">
                  <small class="text-body-secondary"><i class="fa-solid fa-calendar-days"></i> <b>Posted:</b> {{r.posted_date}}</small>
                </p>
                <span class="btn category-badge text-light position-absolute " style="right:20px; bottom:20px;">{{r.title}}</span>
              </div>
            </div>
          </div>
        </div>
        <!-- End lecture card -->
      </div>
    
    </div>
      {% endfor %}
  </div>
</div>

{% endblock %}